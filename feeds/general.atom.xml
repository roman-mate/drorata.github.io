<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Dr. Dror - General</title><link href="http://drorata.github.io/" rel="alternate"></link><link href="http://drorata.github.io/feeds/general.atom.xml" rel="self"></link><id>http://drorata.github.io/</id><updated>2018-03-27T06:53:14+02:00</updated><entry><title>Hedge Yourself From a Risky Data Science Job</title><link href="http://drorata.github.io/posts/2018/Mar/26/hedge-yourself-from-a-risky-data-science-job/" rel="alternate"></link><published>2018-03-26T19:57:17+02:00</published><updated>2018-03-27T06:53:14+02:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2018-03-26:/posts/2018/Mar/26/hedge-yourself-from-a-risky-data-science-job/</id><summary type="html">&lt;p&gt;I recently came across a wonderful post by Talia Borodin titled &lt;a href="https://www.entrepreneur.com/article/310505"&gt;"Think Your Company Needs a Data Scientist? You're Probably Wrong"&lt;/a&gt;.
If you didn't ready it yet, make sure you do it!
It contains a wonderful collection of truths that every individual who has anything to do with data science …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I recently came across a wonderful post by Talia Borodin titled &lt;a href="https://www.entrepreneur.com/article/310505"&gt;"Think Your Company Needs a Data Scientist? You're Probably Wrong"&lt;/a&gt;.
If you didn't ready it yet, make sure you do it!
It contains a wonderful collection of truths that every individual who has anything to do with data science must know by heart.
Talia's post is aiming at the entrepreneurs and other managing functions in companies.
However, the discussed messages and questions can, and should, be pivoted, thus becoming a valuable tool in the hands of data science professionals themselves.
A data scientist who is hired by a company which doesn't manage to answer all four questions properly, is entering a world of pain.&lt;/p&gt;
&lt;p&gt;&lt;img alt="world_of_pain" src="http://drorata.github.io/images/world_of_pain.jpg"&gt;
&lt;a href="http://www.quickmeme.com/meme/3rrcmo/page/1/"&gt;[Source]&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="how-much-data-is-available"&gt;How much data is available?&lt;/h2&gt;
&lt;p&gt;A racing car driver would not join a team that does not have credit for gasoline.
As &lt;a href="https://www.economist.com/news/leaders/21721656-data-economy-demands-new-approach-antitrust-rules-worlds-most-valuable-resource"&gt;data is the new oil&lt;/a&gt;, the data scientist should make sure that the potential organization has data.
The quality and value of potential results of data science work are limited by the availability (and quality) of the data.
Don't get confused; you will always want more/better data, and that's OK, but something to start with has to be around.
Once expectations exist but data not then the track to fail is paved.&lt;/p&gt;
&lt;h2 id="are-there-established-key-performance-indicators-kpis-and-regular-business-intelligence-reporting"&gt;Are there established key performance indicators (KPIs) and regular business intelligence reporting?&lt;/h2&gt;
&lt;p&gt;Without having good KPIs in place the impact of the data scientists' work will not be measurable.
Most likely, there are some KPIs defined and measured, but it is important to make sure that they are granular enough and can be used to effectively measure the impact of changes introduced by the data scientist.
Note that while &lt;em&gt;high level&lt;/em&gt; KPIs are crucial for the business, they are not the best fit when it comes to evaluation of data products.
It is very unlikely that the first improvement resulting from a data science effort will increase the bottom line revenue.
The first iteration is more likely to effect (and hopefully improve) a more "raw" KPI; something like click through rate or average basket size.
Thus it is important to have an established system that can monitor KPIs on various resolutions.&lt;/p&gt;
&lt;h2 id="what-do-they-imagine-you-will-do-once-hired"&gt;What do they imagine you will do once hired?&lt;/h2&gt;
&lt;p&gt;This question is all about expectations management.
If the company does not have expectations from its future data scientist, albeit this might sound nice, then the future hire is likely to work on the wrong problems.
On the other hand, expectations of the type "boost efficiency" and "improve customers' satisfaction", are very hard to quantify and, let alone, achieve.
Without an initial idea what problems the data scientist is expected to tackle, it is very likely that mutual frustration will join the party rather quickly.
Moreover, clear expectations are likely to be backed up by KPIs, and thus also turning evaluation of the quality more accessible.&lt;/p&gt;
&lt;h2 id="what-support-networks-are-provided"&gt;What support networks are provided?&lt;/h2&gt;
&lt;p&gt;Productization of data science projects is hardly every a one-man-show.
At least Devops, developers and data engineers are needed to collaborate during the productization process.
Without their support and involvement the data scientist will be blocked and the amazing solutions will be kept locked without having the mere chance of moving the needle.
Be careful, this is not the only aspect of &lt;em&gt;network&lt;/em&gt; that you will want to have in your next position.
You would also need someone who will be ready to collaborate with you during the development process.
Your fellow developers normally have a well structured reviewing process of their work.
This process is there for a good reason; as you probably know, it is very hard to detect flaws, issues, and bugs in your own code.
Duck debugging is great, but not as great as a peer (not necessarily a data scientist on his own).
For example, a business stakeholder who is keen on solving the problem you were asked to solve and ready to dive a little deeper into the code is a great start.
Other aspects of the needed network may have to do with established technology and workflows enabling a smooth transition from a local POC to a full fledged data science product.&lt;/p&gt;
&lt;h2 id="summary"&gt;Summary&lt;/h2&gt;
&lt;p&gt;The world is not black and white and shades of gray are ruling.
Companies hire data scientists at different stages of evolution, and in turn their needs, expectations, readiness etc. may vary.
However, it is crucial to align on the expectations.
It can well be that some of the answers to the questions raised above are partial and it is not the end of the world, but you and the company should be aligned on what it means.
Hiring data scientists is not a magical solution and must not be treated as one.
A data scientist can and should add value to the company's business, but it is very unlikely to be a successful journey if treated as a uni-sided process.
The success of the data scientist heavily depends on the commitment of the company and without it mutual frustration is awaiting just around the corner.&lt;/p&gt;</content></entry><entry><title>When trying to hash a data frame</title><link href="http://drorata.github.io/posts/2017/May/26/when-trying-to-hash-a-data-frame/" rel="alternate"></link><published>2017-05-26T21:10:17+02:00</published><updated>2017-05-26T21:17:02+02:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2017-05-26:/posts/2017/May/26/when-trying-to-hash-a-data-frame/</id><summary type="html">&lt;h2 id="tldr"&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;The function &lt;a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.values.html"&gt;&lt;code&gt;pandas.DataFrame.values&lt;/code&gt;&lt;/a&gt; is not the inverse of &lt;code&gt;pd.DataFrame(np.array)&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;An important part of reproducible data science work, is the ability to apply the &lt;a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph"&gt;DAG&lt;/a&gt; on the very same dataset.
Simplest option is to commit the datasets to a VCS like &lt;code&gt;git&lt;/code&gt;.
This …&lt;/p&gt;</summary><content type="html">&lt;h2 id="tldr"&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;The function &lt;a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.values.html"&gt;&lt;code&gt;pandas.DataFrame.values&lt;/code&gt;&lt;/a&gt; is not the inverse of &lt;code&gt;pd.DataFrame(np.array)&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;An important part of reproducible data science work, is the ability to apply the &lt;a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph"&gt;DAG&lt;/a&gt; on the very same dataset.
Simplest option is to commit the datasets to a VCS like &lt;code&gt;git&lt;/code&gt;.
This has the problem that VCSs are simply not designed for this.
Ultimately, a dataset is the result of an ETL process.
Tracking the ETL process is easy and fits VCSs.
In some sense this is enough; but not quite right.
A hidden assumption in this case, is that the sources from which the ETL process fetches the raw data from are not changing.
This is a rather strong assumption and not necessarily holding in all settings.
A way to verify that the product of the ETL process is the same is to use two hashes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hash of the code behind the ETL process (you get it for free from &lt;code&gt;git&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Hash the product of the ETL process; namely, the resulting dataset&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Having these two hashes, one can checkout the code of the ETL process, run it and compare the hash of the resulting dataset and the second hash.
If the two are the same, we have a very strong indication that the datasets are the same.
Right, if they are &lt;em&gt;not&lt;/em&gt; the same we merely know the two datasets are not the same.
Most likely due to changes in the sources which feed the ETL process.
This line of thought made me look into hashing possibilities of &lt;code&gt;pandas.DataFrame&lt;/code&gt;s.&lt;/p&gt;
&lt;h2 id="hashing-a-data-frame"&gt;Hashing a data frame&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/a/41715431/671013"&gt;Google&lt;/a&gt; suggested that I should represent the data frame in bytes and hash this representation.
Problem is that there's no straightforward way to turn a data frame into bytes stream.
A more-or-less canonical way would be to convert the data frame to an array of &lt;code&gt;numpy&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here's an example which worked nicely:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;41&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Repeatedly evaluating this code always yield the same hash &lt;code&gt;ddfee4572d380bef86d3ebe3cb7bfa7c68b7744f55f67f4e1ca5f6872c2c9ba1&lt;/code&gt;.
However, as soon as we introduce a string into the game, things are no longer predictable.
Repeatedly invoking the following shows that the hash of the data frame is not kept:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The reason here is that &lt;code&gt;df.values != arr&lt;/code&gt;.
As a matter of fact, it seems like each time we evaluate &lt;code&gt;df.value&lt;/code&gt; we get a new object.
Annoyingly enough, &lt;code&gt;np.array_equal(df.values, arr)&lt;/code&gt; is &lt;strong&gt;true&lt;/strong&gt; because it compares the values.&lt;/p&gt;
&lt;h3 id="workaround"&gt;Workaround&lt;/h3&gt;
&lt;p&gt;The workaround I can suggest is to use some string representation of the data frame, and hash the bytes representation of the string representation.
For example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tobytes&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_json&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sha256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_csv&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Obviously the downsides are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The hash won't be the same as the one of the original array&lt;/li&gt;
&lt;li&gt;If the data frame is big, this can be very lengthy&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;But, it works.
You can find a summarizing &lt;a href="https://gist.github.com/drorata/bfc5d956c4fb928dcc77510a33009691"&gt;notebook here&lt;/a&gt;.
In addition, I have also opened a &lt;a href="https://github.com/pandas-dev/pandas/issues/16517"&gt;ticket on the matter&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;Well, it turns out, that opening the bug was helpful.
As of 0.20.1, it is possible to &lt;a href="https://github.com/pandas-dev/pandas/issues/16517#issuecomment-304364225"&gt;hash data frames&lt;/a&gt;!&lt;/p&gt;</content><category term="python"></category><category term="pandas"></category></entry><entry><title>SQL Server and macOS --- my first take</title><link href="http://drorata.github.io/posts/2017/May/08/sql-server-and-macos-my-first-take/" rel="alternate"></link><published>2017-05-08T06:34:17+02:00</published><updated>2017-05-08T06:34:17+02:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2017-05-08:/posts/2017/May/08/sql-server-and-macos-my-first-take/</id><summary type="html">&lt;p&gt;The 90s are back and it turns out that cross platform approach doesn't apply for MS SQL Server.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Recently, I started working at &lt;a href="http://www.rebuy.com"&gt;reBuy&lt;/a&gt; and discovered that the data warehouse has recently migrated to &lt;a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server"&gt;MS SQL Server&lt;/a&gt;.
Naively, I thought that it would not be much of an impediment; I was wrong.
Over the past 7 years I am mostly using Mac, and beforehand I used to have Linux boxes for couple of years.
The last time I really worked on a Windows machine was 10+ years ago.
By sharing this history with you, I try to explain why I didn't consider switching to Microsoft OS.&lt;/p&gt;
&lt;p&gt;Not too surprisingly, as a data scientist, the first step on day &lt;span class="math"&gt;\(1 + \epsilon\)&lt;/span&gt; was to access the data.
At this point my affection to macOS and the company's DWH conflicted.
One of the first stops in the journey to solve the conflict was this &lt;a href="http://stackoverflow.com/q/3452/671013"&gt;SO thread&lt;/a&gt;.
This thread is a good example of a question whose answer is not really solving the problem introduced by the poster.&lt;/p&gt;
&lt;h2 id="desktop-client"&gt;Desktop client&lt;/h2&gt;
&lt;p&gt;Before diving into hacky workarounds, I tried virtually all the clients suggested in that post.
To cut a long story short, I ended up using &lt;a href="https://www.dbvis.com/"&gt;DBVisualizer&lt;/a&gt;.
Its free version is OK and at least allows one to execute SQL queries.
To be honest, I didn't try to evaluate any kind of more fancy features.
It managed to address the immediate need --- first look at the data checked.&lt;/p&gt;
&lt;h2 id="whats-next"&gt;What's next?&lt;/h2&gt;
&lt;p&gt;I feel relatively comfortable with SQL, but I am much more comfortable and productive with Pandas.
So, the next step for me was to figure out how to query the DWH from Python.
For example, I wanted to take advantage of &lt;a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql_query.html"&gt;&lt;code&gt;pandas.read_sql_query&lt;/code&gt;&lt;/a&gt;.
This led me to investigate how to connect &lt;a href="https://www.sqlalchemy.org/"&gt;SQLalchemy&lt;/a&gt; to MS SQL &lt;em&gt;from a macOS box&lt;/em&gt;.
Ultimately I found two ways: one using &lt;a href="http://pymssql.org/en/stable/"&gt;&lt;code&gt;pymssql&lt;/code&gt;&lt;/a&gt; alone and the other together with SQLalchemy.&lt;/p&gt;
&lt;h3 id="pymssql-alone"&gt;&lt;code&gt;pymssql&lt;/code&gt; alone&lt;/h3&gt;
&lt;p&gt;In order to establish the connection I ran:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymssql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;my.great.server&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;WINDOWSDOMAIN\username&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mysecretpassword&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1433&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note the need to provide the domain (in capital letters).
In turn, an actual query can be executed:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;select top 10 * from db.schema.table1&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_sql&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="pymssql-and-sqlalchemy-together"&gt;&lt;code&gt;pymssql&lt;/code&gt; and SQLalchemy together&lt;/h3&gt;
&lt;p&gt;I also managed to query the DWH using a combination of &lt;code&gt;pymssql&lt;/code&gt; and SQLalchemy.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;eng&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sqlalchemy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mssql+pymssql://WINDOWSDOMAIN\username:mysecretpassword@my.great.server:1433/db&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;connection&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;eng&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;connection&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;select top 10 * from schema.table1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As a side remark, which probably deserve a post of its own, once using SQLalchemy I also managed to connect &lt;a href="https://github.com/airbnb/superset"&gt;Superset&lt;/a&gt; to the DWH. YAY.&lt;/p&gt;
&lt;h2 id="atom-ic-connection"&gt;Atom-ic connection?&lt;/h2&gt;
&lt;p&gt;DBVisualizer is/was OK.
Nothing more.
I like using my keyboard and as my editor of choice is Atom, I decided to try and utilize it.
It worked out &lt;em&gt;fabulously&lt;/em&gt;.
The needed package is &lt;a href="https://atom.io/packages/data-atom"&gt;Data Atom&lt;/a&gt; and the setting up is rather straightforward.
You might want to fiddle with the &lt;a href="https://github.com/lukemurray/data-atom/issues/125"&gt;&lt;code&gt;Timeout&lt;/code&gt; setting&lt;/a&gt; but as long as the results set is limited this works like a charm.&lt;/p&gt;
&lt;p&gt;Interestingly, I failed to connect Visual Studio Code to the DWH.
I thought that as MS are developing VSC, it is likely that the DWH and the celebrated editor will be able to communicate.
In theory this is &lt;a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-develop-use-vscode"&gt;possible&lt;/a&gt;, but in practice, from a macOS box, &lt;a href="https://github.com/Microsoft/vscode-mssql/issues/824#issuecomment-296846325"&gt;it is not&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="securing-the-passwords"&gt;Securing the passwords&lt;/h2&gt;
&lt;p&gt;I ended up, for the time being, using Atom and DBVisualizer.
I spend most of my time on the DWH using Atom, and revert to the latter tool when I need to explore the schema of the database.
Once I know what I need, I take the results set offline into Pandas.
The biggest concern I have at the moment is the securing of the passwords.
Both for &lt;code&gt;pymssql&lt;/code&gt; and the Data Atom package, the passwords are stored as strings.
I didn't find a way around it yet albeit I'm sure there must be one; after all Superset manages the passwords somehow.&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="SQL"></category><category term="atom"></category><category term="python"></category><category term="mac"></category></entry><entry><title>Setting new computer</title><link href="http://drorata.github.io/posts/2017/Mar/10/setting-new-computer/" rel="alternate"></link><published>2017-03-10T11:24:46+01:00</published><updated>2017-04-04T07:26:29+02:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2017-03-10:/posts/2017/Mar/10/setting-new-computer/</id><summary type="html">&lt;p&gt;Mostly notes for myself on what items I installed on a new machine. You might be interested as well.&lt;/p&gt;</summary><content type="html">&lt;h1 id="straightforward"&gt;Straightforward&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Docker&lt;/code&gt; Time to start using it, right?&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DropboxInstaller&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Franz&lt;/code&gt; a universal messenger&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Spotify&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LibreOffice&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MacPorts&lt;/code&gt; For this one you'd need to install XCode related stuff&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Skim&lt;/code&gt; Much better than the built in Preview&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Skype&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Slack&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Spectacle&lt;/code&gt; Super useful for windows management using the keyboard&lt;/li&gt;
&lt;li&gt;&lt;code&gt;atom&lt;/code&gt; Well, this is my editor of choice for the past 4 months. I'm not going to change it.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Chrome&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;iTerm2&lt;/code&gt;. However, I'm going to try out &lt;code&gt;Hyper&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Google drive&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mactex&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nteract&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vlc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Anaconda python distribution&lt;/li&gt;
&lt;li&gt;In addition I installed &lt;a href="https://github.com/prat0318/json_resume"&gt;&lt;code&gt;json_resume&lt;/code&gt;&lt;/a&gt; which I use to build my CV.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="some-more-remarks"&gt;Some more remarks&lt;/h1&gt;
&lt;h2 id="setting-of-atom"&gt;Setting of Atom&lt;/h2&gt;
&lt;p&gt;For this I discovered the wonderful plugin &lt;a href="https://atom.io/packages/sync-settings"&gt;sync-settings&lt;/a&gt;.
This allowed easy copying of the settings and packages from my other box.&lt;/p&gt;
&lt;h2 id="improved-commandline"&gt;Improved commandline&lt;/h2&gt;
&lt;p&gt;To that end I use &lt;a href="https://github.com/banga/powerline-shell"&gt;powerline-shell&lt;/a&gt; which I strongly recommend.&lt;/p&gt;
&lt;h2 id="enabling-pelican"&gt;Enabling Pelican&lt;/h2&gt;
&lt;p&gt;Pelican is easy to install using &lt;code&gt;pip&lt;/code&gt;.
However, in addition I had to install the &lt;code&gt;Markdown&lt;/code&gt; module.&lt;/p&gt;
&lt;h2 id="mapping-to"&gt;Mapping &lt;code&gt;§&lt;/code&gt; to &lt;code&gt;`&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;I got an international English keyboard.
This means that the upper left key (right under the &lt;code&gt;ESC&lt;/code&gt;) is mapped to &lt;code&gt;§&lt;/code&gt; and &lt;code&gt;±&lt;/code&gt;.
I lived so long without using these symbols on a regular basis, and thus I decided to map this key to the regular backtick and tilde (&lt;code&gt;~&lt;/code&gt;).
To that end I used the &lt;a href="https://github.com/tekezo/Karabiner-Elements"&gt;Karabiner-Elements&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="vim-syntax-highlighting"&gt;&lt;code&gt;vim&lt;/code&gt; syntax highlighting&lt;/h2&gt;
&lt;p&gt;I'm using &lt;code&gt;vim&lt;/code&gt; as the editor in the console (mostly when it comes to commit messages for git).
Still, coloring the editor is nice.
I Simply added &lt;code&gt;syntax on&lt;/code&gt; to &lt;code&gt;~/.vimrc&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="nb-1"&gt;N.B. 1&lt;/h2&gt;
&lt;p&gt;After couple of days, as always, there are some additional items to mention:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Anaconda-Platform/nb_conda_kernels"&gt;nb conda kernels&lt;/a&gt; to treat Conda environments as Jupyter kernels&lt;/li&gt;
&lt;li&gt;For &lt;a href="http://scikit-learn.org/stable/modules/tree.html#classification"&gt;decision trees visualization&lt;/a&gt; I had to install &lt;code&gt;GraphViz&lt;/code&gt; and &lt;code&gt;pydotplus&lt;/code&gt;. The former using MacPorts and the latter using &lt;code&gt;conda install -c conda-forge pydotplus&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pandoc.org/"&gt;&lt;code&gt;pandoc&lt;/code&gt;&lt;/a&gt; is a nice to have around&lt;/li&gt;
&lt;li&gt;Similarly, &lt;a href="https://github.com/stedolan/jq/wiki/Installation"&gt;&lt;code&gt;jq&lt;/code&gt;&lt;/a&gt; is very important to have around; simply using MacPorts. In addition, &lt;a href="https://beyondgrep.com/"&gt;&lt;code&gt;ack&lt;/code&gt;&lt;/a&gt; is worthy installing&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="nb-2"&gt;N.B. 2&lt;/h2&gt;
&lt;p&gt;How could I forget, spell checking for Jupyter notebooks and other extensions are a must. This is rather straightforward as described &lt;a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="nb-3"&gt;N.B. 3&lt;/h2&gt;
&lt;p&gt;When inspecting a file from the console, it is nice to see it colored properly.
A nice way to go about it is to install &lt;code&gt;Pygments&lt;/code&gt;.
This can be easily done: &lt;code&gt;conda install Pygments&lt;/code&gt;.
Next, in &lt;code&gt;~/.bash_profile&lt;/code&gt; I added the following alias &lt;code&gt;alias catc='pygmentize -g'&lt;/code&gt;.&lt;/p&gt;</content><category term="IT"></category><category term="computer"></category><category term="apps"></category><category term="settings"></category><category term="superuser"></category><category term="python"></category></entry><entry><title>Parasitic numbers - did you know?</title><link href="http://drorata.github.io/posts/2017/Jan/30/parasitic-numbers-did-you-know/" rel="alternate"></link><published>2017-01-30T15:32:31+01:00</published><updated>2017-01-30T15:37:34+01:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2017-01-30:/posts/2017/Jan/30/parasitic-numbers-did-you-know/</id><summary type="html">&lt;p&gt;Just learned about a new kind of numbers&lt;/p&gt;</summary><content type="html">&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Minimal-parasitic-number"&gt;Minimal parasitic number&lt;a class="anchor-link" href="#Minimal-parasitic-number"&gt;&amp;#182;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;One of the things I like so much about math is that you always get to know a new concept.
Recently, I learned about &lt;a href="https://en.wikipedia.org/wiki/Parasitic_number"&gt;parasitic numbers&lt;/a&gt;.
I was asked what is the minimal parasitic 4-number.
So, I wrote down the following simple code, and found out:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;new_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;n_str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;n_str&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;n_str&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;new_n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;new_n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000000&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;is_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;0
102564
128205
153846
179487
205128
230769
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
 

&lt;/p&gt;</content><category term="math"></category></entry><entry><title>First post</title><link href="http://drorata.github.io/posts/2017/Jan/12/first-post/" rel="alternate"></link><published>2017-01-12T07:07:13+01:00</published><updated>2017-09-03T20:35:56+02:00</updated><author><name>Dror Atariah</name></author><id>tag:drorata.github.io,2017-01-12:/posts/2017/Jan/12/first-post/</id><summary type="html">&lt;h1 id="trying-to-move-to-pelican"&gt;Trying to move to &lt;a href="https://blog.getpelican.com/"&gt;pelican&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Following is a review of my favorite mechanical keyboard.&lt;/p&gt;
&lt;p&gt;EDIT:&lt;/p&gt;
&lt;p&gt;Here's an inline math example: &lt;span class="math"&gt;\(x^2\)&lt;/span&gt; which works nicely.
And here's a displayed math &lt;/p&gt;
&lt;div class="math"&gt;$$e^2$$&lt;/div&gt;
&lt;p&gt; which works as well.&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align …&lt;/script&gt;</summary><content type="html">&lt;h1 id="trying-to-move-to-pelican"&gt;Trying to move to &lt;a href="https://blog.getpelican.com/"&gt;pelican&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Following is a review of my favorite mechanical keyboard.&lt;/p&gt;
&lt;p&gt;EDIT:&lt;/p&gt;
&lt;p&gt;Here's an inline math example: &lt;span class="math"&gt;\(x^2\)&lt;/span&gt; which works nicely.
And here's a displayed math &lt;/p&gt;
&lt;div class="math"&gt;$$e^2$$&lt;/div&gt;
&lt;p&gt; which works as well.&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content></entry></feed>